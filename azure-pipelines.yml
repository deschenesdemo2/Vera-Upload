trigger:
 branches:
   include:
   - refs/heads/master
   - refs/heads/dev
   - refs/heads/featureX

pool:
  vmImage: 'ubuntu-latest'

stages:

  - stage: Veracode
    displayName: 'Veracode Security Scans'

    jobs:

    - job: BasePipelineFeatureXBranch
      displayName: 'Veracode Security Scans - FeatureX Branch'
      condition: and(succeeded(), eq(variables['build.sourceBranch'], 'refs/heads/featureX'))

    - template: "azureTemplates/AzureBasePipeline-featureX_Branch.yml"
      dependsOn: BasePipelineFeatureXBranch